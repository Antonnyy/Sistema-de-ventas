/* ==========================================================================
   VARIABLES GLOBALES (tema, colores, sombras y grillas)
   - Estas variables permiten cambiar la apariencia desde un solo lugar.
   - --items-cols y --items-gap controlan el layout de la tabla de ítems.
   ========================================================================== */
:root{
  --bg:#0b1220;                /* Fondo general (oscuro) */
  --surface:#0f172aee;         /* Superficie de tarjetas / paneles (ligero glass) */
  --text:#e2e8f0;              /* Texto principal */
  --muted:#cbd5e1;             /* Texto secundario / descripciones */
  --primary:#22d3ee;           /* Color principal (cyan) */
  --primary-2:#06b6d4;         /* Variación del color principal */
  --border:#1f2937;            /* Color de bordes discretos */
  --shadow:0 20px 60px rgba(0,0,0,.35); /* Sombra base para tarjetas */
  --radius:18px;               /* Radio de borde estándar */
  --speed:.45s;                /* Velocidad de transiciones */

  --items-cols: 1.6fr .5fr .7fr 96px; /* Desc | Cant | Precio | Acciones (grilla de ítems) */
  --items-gap: 18px;                   /* Espacio entre columnas en la grilla de ítems */
}

/* ==========================================================================
   RESETEO BÁSICO + TIPOGRAFÍA
   - Unifica box-sizing y elimina márgenes/padding por defecto.
   - Define colores y fuente del documento.
   ========================================================================== */
*{ box-sizing:border-box; margin:0; padding:0 }
html,body{
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  line-height:1.4;
}

/* Contenedor central con ancho máximo responsivo */
.wrapper{
  width:min(1100px,92%);
  margin:16px auto 40px;
}

/* ==========================================================================
   HERO (cabecera de la página)
   - Título con degradado y texto secundario atenuado.
   - Borde inferior para separar del contenido.
   ========================================================================== */
.hero{
  text-align:center;
  padding:clamp(40px,10vh,90px) 16px 20px;
  border-bottom:1px solid var(--border);
}
.hero h1{
  font-size:clamp(28px,5vw,40px);
  background:linear-gradient(135deg,var(--primary),#a78bfa); /* Degradado sobre el texto */
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent; /* Hace visible el degradado */
}
.hero p{ color:var(--muted) }

/* ==========================================================================
   TARJETAS / SECCIONES
   - .card: panel principal con sombra y borde sutil
   - .card-lite: variante ligera con borde punteado (útil como contenedor auxiliar)
   - .section-title: espaciado inferior de títulos de sección
   ========================================================================== */
.card{
  background:var(--surface);
  border:1px solid #1f293733;
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow);
  margin-bottom:14px;
}
.card-lite{
  background:#0b1220aa;
  border:1px dashed #334155aa;
  border-radius:14px;
  padding:12px;
  margin-top:10px;
}
.section-title{ margin-bottom:10px }

/* ==========================================================================
   GRILLAS DE DOS Y TRES COLUMNAS
   - Cambian a una sola columna en pantallas pequeñas (<= 900px).
   ========================================================================== */
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px }
.grid-3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px }
@media (max-width:900px){ .grid-2,.grid-3{ grid-template-columns:1fr } }

/* ==========================================================================
   CAMPOS CON LABEL FLOTANTE
   - El label se “eleva” cuando el input tiene foco o contenido.
   - .select hereda estilo de inputs; .label-select permite usar label fijo arriba.
   ========================================================================== */
.field{ position:relative }
.field input,.field textarea,.select,.input{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid #334155aa;
  background:#0b1220;
  color:var(--text);
  outline:none;
  transition:border var(--speed), box-shadow var(--speed);
  font-size:16px;
}
.field label,.label-select{
  position:absolute;
  left:12px;
  top:50%;
  transform:translateY(-50%);
  padding:0 4px;
  color:#9fb1c6;
  pointer-events:none;     /* Evita que el label interfiera con el input */
  transition:all .18s ease;
  background:transparent;
}

/* Efecto de foco: cambia color de borde y añade un “glow” suave */
.field input:focus,.select:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 6px #22d3ee26;
}

/* Eleva el label al enfocarse o cuando el input no está vacío */
.field:focus-within label,
.field input:not(:placeholder-shown)+label{
  top:-8px;
  font-size:.78rem;
  color:var(--primary);
  background:#0b1220; /* Fondo oscuro para que el label superpuesto sea legible */
  border-radius:6px;
}

/* Ajustes para selects con label fijo */
.label-select{
  top:-8px;
  font-size:.78rem;
  color:#9fb1c6;
  background:#0b1220;
  border-radius:6px;
}
.select{ appearance:none } /* Oculta flechas nativas en algunos navegadores */

/* ==========================================================================
   BLOQUE DE ÍTEMS (tabla de productos)
   - El layout se basa en una grilla coherente con --items-cols.
   - .item-row usa display:contents para “inyectar” sus hijos en la grilla.
   ========================================================================== */
.items-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:8px;
}

/* Encabezado de columnas (usa la misma grilla que las filas) */
.items-header{
  display:grid;
  grid-template-columns:var(--items-cols);
  gap:var(--items-gap);
  color:#9fb1c6;
  font-weight:600;
  margin-bottom:6px;
}

/* Contenedor de filas de ítems (misma definición de grilla) */
.items-grid{
  display:grid;
  grid-template-columns:var(--items-cols);
  gap:var(--items-gap);
  align-items:center;
}

/* Cada fila aporta 4 celdas alineadas con la grilla definida */
.item-row{ display:contents }

/* Alineaciones útiles para números y centrados */
.num{ text-align:right; font-variant-numeric:tabular-nums }
.center{ text-align:center }

/* ==========================================================================
   INPUTS EN LA TABLA DE ÍTEMS
   - Bordes y foco coherentes con el sistema visual.
   ========================================================================== */
.items-grid .input{
  padding:12px 14px;
  border:1px solid #334155aa;
  border-radius:10px;
  background:#0b1220;
  color:#e2e8f0;
  transition:border .3s, box-shadow .3s;
}
.items-grid .input:hover{ border-color:#475569 }
.items-grid .input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 6px #22d3ee26;
}

/* ==========================================================================
   ACCIONES POR FILA (SIN JS)
   - Los íconos se implementan como botones visuales (labels en HTML).
   - Se usa :has() para reaccionar a toggles (checkbox oculto) por fila.
   ========================================================================== */
.item-actions{
  display:flex;
  justify-content:center;
  gap:8px;
}
.icon-btn{
  border:none;
  background:#111827;
  padding:8px 10px;
  border-radius:8px;
  font-size:18px;
  cursor:pointer;
  user-select:none;
}
.icon-btn.edit:hover{ background:#3b82f6; color:#fff }  /* Hover azul para “editar” */
.icon-btn.delete:hover{ background:#ef4444; color:#fff } /* Hover rojo para “borrar” */

/* EDITAR: resalta visualmente la fila cuando el toggle 'edit' está activo */
.item-row:has(.edit-toggle:checked) .input{
  box-shadow:0 0 0 6px #a78bfa33; /* Glow morado suave */
  border-color:#a78bfa;
}

/* BORRAR: oculta completamente la fila cuando el toggle 'remove' está activo */
.item-row:has(.remove-toggle:checked){
  display:none;
}

/* ==========================================================================
   “AGREGAR MÁS PRODUCTOS” (details/summary)
   - Permite mostrar filas predefinidas sin JavaScript.
   - Ajustes visuales para el botón summary.
   ========================================================================== */
.more{ margin-top:12px }
.more > summary{
  list-style:none;         /* Quita marcador por defecto del summary */
  cursor:pointer;
  display:inline-block;
  padding:10px 16px;
  border-radius:12px;
  border:none;
  background:linear-gradient(135deg,#22d3ee,#06b6d4);
  color:#05202a;
  font-weight:700;
  box-shadow:0 0 12px #22d3ee55;
}
.more > summary::-webkit-details-marker{ display:none } /* Oculta el triángulo por defecto */
.more[open] > summary{ filter:brightness(1.05) }        /* Efecto al abrir */

/* ==========================================================================
   TOTALES Y ESTADO DEL DELIVERY
   - Distribución flexible de totales y label+select del estado.
   ========================================================================== */
.totales{
  display:flex;
  gap:18px;
  flex-wrap:wrap;
  margin:12px 0;
  align-items:center;
}
.totales .field input{ text-align:right } /* Numeritos alineados a la derecha */

.estado-delivery .field{
  display:flex;
  flex-direction:column; /* Coloca el label encima del select */
}
.estado-delivery .label-select{
  position:static;       /* Anula el “label flotante” */
  transform:none;
  margin:0 0 6px 2px;
}

/* ==========================================================================
   BOTONES GENERALES (footer del formulario)
   ========================================================================== */
.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.btn{
  display:inline-block;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid #334155aa;
  font-weight:800;
  cursor:pointer;
}
.btn.primary{
  background:linear-gradient(135deg,var(--primary),var(--primary-2));
  color:#05202a;
  box-shadow:0 0 18px #22d3ee55;
}

/* 
   MODO IMPRESIÓN
   - Oculta elementos irrelevantes en la impresión y limpia estilos.
  */
@media print{
  #navbar,#footer,.actions,.note,.more > summary{ display:none } /* No imprimimos controles ni notas */
  body{ background:#fff }                                       /* Fondo blanco para ahorrar tinta */
  .card,.card-lite{ box-shadow:none; border:1px solid #d1d5db } /* Bordes discretos en papel */
  .hero{ border:none; padding:6px 0 0 }                         /* Compacta el header */
  .wrapper{ width:100%; margin:0; padding:0 10mm }              /* Márgenes para la hoja */
}
